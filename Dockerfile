FROM ubuntu:18.04

LABEL maintainer="muokicaleb@tuta.io"

# environment vars
ENV HOME /root


RUN apt update && \
    apt install -y --no-install-recommends \
    ca-certificates \
    git \
    vim \
    wget \
    curl \
    zsh \
    tmux \
    iputils-ping

#install oh my zsh
RUN git clone https://github.com/robbyrussell/oh-my-zsh.git ${HOME}/.oh-my-zsh &&\
    cp ${HOME}/.oh-my-zsh/templates/zshrc.zsh-template ${HOME}/.zshrc 
    



# zsh  configs
RUN cd ${HOME} && \
    wget --no-check-certificate -O .zshrc https://raw.githubusercontent.com/muokicaleb/helper_confs/main/.zshrc &&\
    git clone https://github.com/zsh-users/zsh-syntax-highlighting.git "$HOME/.zsh-syntax-highlighting" --depth 1 &&\
    echo "source $HOME/.zsh-syntax-highlighting/zsh-syntax-highlighting.zsh" >> "$HOME/.zshrc"

# vim configs
RUN cd ${HOME} && \
    wget --no-check-certificate -O .vimrc https://raw.githubusercontent.com/muokicaleb/helper_confs/main/vimrc

# tmux configs
RUN cd ${HOME} && \
    wget --no-check-certificate -O .tmux.conf https://raw.githubusercontent.com/muokicaleb/helper_confs/main/tmux.conf

WORKDIR ${HOME} 


# tool dependencies
RUN apt install -y --no-install-recommends \
    gnupg

# tools
RUN curl https://raw.githubusercontent.com/rapid7/metasploit-omnibus/master/config/templates/metasploit-framework-wrappers/msfupdate.erb > msfinstall && \
    chmod 755 msfinstall && \
    ./msfinstall

# exploitdb
RUN git clone https://github.com/offensive-security/exploitdb.git /opt/exploitdb &&\
    ln -sf /opt/exploitdb/searchsploit /usr/local/bin/searchsploit
  
RUN apt install -y --no-install-recommends \
    netdiscover \ 
    nikto \
    nmap 



